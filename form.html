<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Submit Proof · IgniteX Hive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./assets/styles.css">
  <style>
    .form-card{max-width:760px;margin:24px auto}
    form .row{display:grid;gap:12px;margin:10px 0}
    @media (min-width:720px){ form .row.two{grid-template-columns:1fr 1fr} }
    label{font-weight:600}
    input,textarea,select{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:transparent;color:var(--text);width:100%}
    input[type=file]{padding:12px}
    .help{color:var(--muted);font-size:0.9rem}
    .success{border-left:3px solid #22c55e;background:rgba(34,197,94,.1)}
    .error{border-left:3px solid #ef4444;background:rgba(239,68,68,.1)}
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-inner">
      <img src="./assets/hero.png" class="logo" alt="IgniteX Hive">
      <div class="brand">IgniteX Hive</div>
      <div class="spacer"></div>
      <a class="btn" href="./index.html" data-nav="Guide">Guide</a>
      <a class="btn" href="./allocation.html" data-nav="Allocation Process">Allocation Process</a>
      <a class="btn" href="./growth.html" data-nav="Growth Demo">Growth Demo</a>
      <a class="btn" href="./manual/index.html" data-manual data-nav="Manual">Manual</a>
      <a class="btn" href="./signup.html" data-nav="Sign-Up">Sign-Up</a>
      <a class="btn active" href="./proof.html" data-nav="Submit Proof">Submit Proof</a>
      <a class="btn" href="./index.html#contact" data-nav="Contact">Contact</a>
    </div>
  </nav>
  <main class="container">
    <div class="card form-card">
      <h1>Submit Proof of Transaction</h1>
      <p class="small">Attach the required screenshot (same phone, unedited). Fields marked * are required.</p>
      <form id="proofForm">
        <div class="row two">
          <div>
            <label for="fullName">Full Name *</label>
            <input id="fullName" name="fullName" required>
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com">
          </div>
        </div>
        <div class="row two">
          <div>
            <label for="wallet">Wallet Address *</label>
            <input id="wallet" name="wallet" required>
          </div>
          <div>
            <label for="tagId">Tag ID *</label>
            <input id="tagId" name="tagId" required>
          </div>
        </div>
        <div class="row two">
          <div>
            <label for="amountMYR">Amount (MYR) *</label>
            <input id="amountMYR" name="amountMYR" type="number" step="1" min="1" required placeholder="e.g., 155">
          </div>
          <div>
            <label for="txId">Transaction ID *</label>
            <input id="txId" name="txId" required>
          </div>
        </div>
        <div class="row">
          <div>
            <label for="proof">Screenshot (PNG/JPG, max ~10MB) *</label>
            <input id="proof" name="proof" type="file" accept=".png,.jpg,.jpeg" required>
            <div class="help">Must show: “Sent Ripple to…”, XRP amount, timestamp, XRP Tag, Transaction ID. Unedited.</div>
          </div>
        </div>
        <input type="hidden" name="clientTs" id="clientTs">
        <div class="row">
          <button class="btn" type="submit">Submit</button>
        </div>
      </form>
      <div id="msg" class="card" style="display:none;margin-top:14px;"></div>
    </div>
  </main>
  <script>
    const WEB_APP_URL = 'YOUR_WEB_APP_URL'; // ← paste your Apps Script Web App URL here
    const form = document.getElementById('proofForm');
    const msg  = document.getElementById('msg');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      // Basic client-side checks
      const file = document.getElementById('proof').files[0];
      if (!file) return;
      if (file.size > 10 * 1024 * 1024) { // 10MB soft limit
        show('Please upload a file under 10MB.', true);
        return;
      }
      // Timestamp
      document.getElementById('clientTs').value = new Date().toISOString();
      const fd = new FormData(form);
      show('Submitting, please wait...');
      try {
        const res = await fetch(WEB_APP_URL, { method: 'POST', body: fd });
        const data = await res.json();
        if (data.ok) {
          show('Submission received. Thank you!', false, true);
          form.reset();
        } else {
          show('Error: ' + (data.error || 'Unknown error'), true);
        }
      } catch (err) {
        show('Network error: ' + err.message, true);
      }
    });
    function show(text, isError=false, isSuccess=false) {
      msg.style.display = 'block';
      msg.className = 'card ' + (isError ? 'error' : (isSuccess ? 'success' : ''));
      msg.textContent = text;
    }
  </script>

<footer id="site-footer" style="margin-top:40px;padding:24px 0;border-top:1px solid rgba(255,255,255,0.08);text-align:center;font-size:14px;">
  <div class="container">
    <p style="margin:6px 0;">
      <a href="terms.html">Terms &amp; Conditions</a> &bull;
      <a href="privacy.html">Privacy Policy</a> &bull;
      <a href="data_usage.html">Data Usage</a> &bull;
      <a href="risk_disclosure.html">Financial Risk Disclosure</a>
    </p>
    <p style="margin:6px 0;opacity:0.8;">IgniteX Hive operates under principles of financial integrity, anti-corruption, environmental sustainability, consumer protection, and regulatory compliance.</p>
    <p style="opacity:0.7;margin:6px 0;">© 2025 IgniteX Hive. All rights reserved.</p>
  </div>
</footer>

</body>
</html>

